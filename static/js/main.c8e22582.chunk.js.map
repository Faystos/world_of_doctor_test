{"version":3,"sources":["img/error.png","services/services.js","componets/SearchInput/index.js","componets/SearchInput/SearchInput.js","componets/ErrorIndicator/index.js","componets/ErrorIndicator/ErrorIndicator.js","componets/Loader/index.js","componets/Loader/Loader.js","componets/DropPownMatch/index.js","componets/DropPownMatch/DropPownMatch.js","componets/InputSelect/index.js","componets/InputSelect/InputSelect.js","componets/SearchPanel/index.js","componets/SearchPanel/SearchPanel.js","componets/App/App.js","componets/App/index.js","index.js"],"names":["module","exports","ApiService","_apiUrl","filterData","arr","seachValue","newArr","valuelLength","length","i","countryName","split","slice","join","toLowerCase","push","_transformCountries","country","countryID","cioc","numericCode","name","imgFlag","flag","fetch","this","res","json","Error","getResource","map","value","getAllCountries","sortRes","SearchInput","state","changeSearchInt","target","setState","props","onValueSerh","className","id","type","placeholder","onChange","htmlFor","Component","ErrorIndicator","src","errorImg","alt","Loader","DropPownMatch","data","load","error","renderItem","searchValue","selectValue","hasData","viewError","viewLoader","viewItem","InputSelect","onValueSelect","Fragment","SearchPanel","apiService","onLoadData","sortCountries","then","catch","onError","err","index","reg","RegExp","items","quantity","key","test","viewDropPownMatch","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8e22582.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error.aa9aacc3.png\";","export default class ApiService {\r\n  _apiUrl = 'https://restcountries.eu/rest/v2/all';\r\n  \r\n\r\n  async getResource() {\r\n    try {\r\n      const res = await fetch(this._apiUrl);\r\n      return await res.json();\r\n    } catch (error) {\r\n      throw new Error(`Ошибка загрузки ${error}.`);\r\n    }\r\n  }\r\n\r\n  async getAllCountries() {\r\n    const res = await this.getResource();\r\n    return res.map(this._transformCountries);\r\n  }\r\n\r\n  async sortCountries(value) {\r\n    const res = await this.getAllCountries();\r\n    const sortRes = this.filterData(res, value);\r\n    return sortRes;\r\n  }\r\n\r\n  filterData = (arr, seachValue) => {    \r\n    let newArr = [];\r\n    let valuelLength = seachValue.length;   \r\n\r\n    if (valuelLength > 0) {\r\n      for(let i = 0; i < arr.length; i++) {\r\n        let example = arr[i].countryName.split('').slice(0,valuelLength).join('');\r\n          if(example.toLowerCase() === seachValue.toLowerCase()) {\r\n            newArr.push(arr[i]);\r\n          }\r\n      }\r\n    } else { newArr = null }\r\n    return newArr;\r\n  }\r\n\r\n  _transformCountries = country => {\r\n    return {\r\n      countryID: `${country.cioc}${country.numericCode}`,\r\n      countryName: `${country.name}`,\r\n      imgFlag: `${country.flag}`\r\n    }\r\n  }\r\n}","import SearchInput from './SearchInput';\r\nexport default SearchInput;","import React, { Component } from 'react';\r\n\r\nexport default class SearchInput extends Component {\r\n  state = {\r\n    value: '',\r\n  }\r\n\r\n  changeSearchInt = ({target}) => {\r\n    let value = target.value;  \r\n    this.setState({ value });\r\n    this.props.onValueSerh(value);\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    \r\n    return(\r\n      <div className = \"blockSearchInput\">\r\n        <input className = \"searchInput\" id = \"search\"  type= \"text\" placeholder = \"input country\" value = {value} onChange = {this.changeSearchInt}/>\r\n        <label htmlFor  =\"name\" className = \"searchLabel\">Country</label>\r\n      </div>\r\n    );\r\n  }  \r\n}","import ErrorIndicator from './ErrorIndicator';\r\nexport default ErrorIndicator","import React from 'react';\r\nimport errorImg from '../../img/error.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return(\r\n    <div className = \"blockError\">\r\n      <img className = \"errorImg\" src = {errorImg} alt='error'/>\r\n      <p className = \"errorMsg\">Произошла не предвиденная ошибка, попробуйте повторить запрос позже.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;","import Loader from './Loader';\r\nexport default Loader;","import React from 'react';\r\nimport './loader.css';\r\n\r\n const Loader = () => {\r\n\r\n  return(\r\n    <div className = \"loadingio-spinner-spinner-i3zk22cdv5i\">\r\n      <div className = \"ldio-jg0nozfzrl\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import DropPownMatch from './DropPownMatch';\r\nexport default DropPownMatch;","import React from 'react';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\nimport Loader from '../Loader';\r\n\r\nconst DropPownMatch = ({ data, load, error, renderItem, searchValue, selectValue }) => {    \r\n  const hasData = (data && !load);\r\n  let viewError = error ? <ErrorIndicator /> : null\r\n  let viewLoader = load ? < Loader /> : null;\r\n  let viewItem = hasData ? renderItem(data, selectValue, searchValue) : null;      \r\n  return(\r\n    <div className=\"blockMatch\">\r\n      { viewError }\r\n      { viewLoader }\r\n      { viewItem }\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default DropPownMatch;","import InputSelect from './InputSelect';\r\nexport default InputSelect;","import React from 'react';\r\n\r\nconst InputSelect = ({onValueSelect}) => {\r\n  return(\r\n    <React.Fragment>\r\n      <select className = \"inpSelect\" onChange = { onValueSelect }>\r\n        <option value = '10'>10</option>\r\n        <option value = '20'>20</option>\r\n        <option value = '50'>50</option>\r\n      </select>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default InputSelect;","import SearchPanel from './SearchPanel';\r\nexport default SearchPanel;\r\n","import React, { Component } from 'react';\r\nimport ApiService from '../../services/services';\r\nimport SearchInput from '../SearchInput';\r\nimport DropPownMatch from '../DropPownMatch';\r\nimport InputSelect from '../InputSelect';\r\n\r\nexport default class SearchPanel extends Component {\r\n  apiService = new ApiService();\r\n\r\n  state = {\r\n    data: null,    \r\n    load: true,\r\n    error: false,\r\n    searchValue: '',\r\n    selectValue: 10,\r\n  } \r\n\r\n  onLoadData = (value) => {\r\n    this.apiService.sortCountries(value)\r\n      .then(data => this.setState({ data, load: false}))\r\n      .catch(this.onError);\r\n  }\r\n\r\n  onValueSerh = value => {\r\n    this.setState(({searchValue}) => {\r\n      return {searchValue: value};\r\n    }); \r\n    this.onLoadData(value);       \r\n  }\r\n\r\n  onValueSelect = ({target}) => {\r\n    let value = target.value;\r\n    this.setState(({selectValue}) => {\r\n      return { selectValue: value }\r\n    });\r\n  }\r\n\r\n  onError = err => {\r\n    this.setState({\r\n      error: true,\r\n      load: false\r\n    });\r\n  }\r\n\r\n  renderItem(arr, index, searchValue) {\r\n    const reg = new RegExp(\"^[a-zA-Z]+$\");    \r\n    let items = [];\r\n    let quantity = index > arr.length ? arr.length : index;    \r\n    for (let i = 0; i < quantity; i++) {      \r\n      items.push(<span className =\"matchItem\" key={arr[i].countryID}>{`${i + 1}. ${arr[i].countryName}`} <img className = \"matchImg\" src={arr[i].imgFlag} alt={arr[i].countryName} /></span>);\r\n    }\r\n    if (!items.length) items = 'Такого значения не существует';\r\n    if (!reg.test(searchValue)) items = 'Только латинские символы';\r\n    return items;      \r\n  }\r\n\r\n  render () {\r\n    const { data, load, error, searchValue, selectValue } = this.state;\r\n    const viewDropPownMatch = searchValue ? <DropPownMatch data = { data } load = { load } error = { error } renderItem = { this.renderItem } searchValue= { searchValue } selectValue = { selectValue }/> : null;\r\n    \r\n    return(\r\n      <section className=\"searchPanel\">\r\n        <div className = \"blockInp\">\r\n          <SearchInput onValueSerh = { this.onValueSerh }/>\r\n          <InputSelect onValueSelect = { this.onValueSelect }/>          \r\n        </div>        \r\n        { viewDropPownMatch }        \r\n      </section>      \r\n    );\r\n  }\r\n}","import React from 'react';\nimport SearchPanel from '../SearchPanel';\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <SearchPanel />\n    </React.Fragment>\n  );\n}\n\nexport default App;","import App from './App';\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './componets/App';\nimport './css/reset.css';\nimport './css/normalize.css';\nimport './css/style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}